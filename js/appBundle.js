var Algorithms = (function () {
    function Algorithms() {
    }
    Algorithms.prototype.tribulate = function () {
        for (var i = Main.population.length >> 1; i < Main.POPULATION_SIZE; i++) {
            Main.population[i] = Algorithms.randomIndivial(Main.points.length);
        }
    };
    Algorithms.randomNumber = function (boundary) {
        var n = Math.random() * boundary;
        return parseInt(n);
    };
    Algorithms.euclidean = function (dx, dy) {
        return Math.sqrt(dx * dx + dy * dy);
    };
    Algorithms.getCurrentBest = function () {
        var bestP = 0, currentBestValue = Main.values[0];
        for (var i = 1; i < Main.population.length; i++) {
            if (Main.values[i] < currentBestValue) {
                currentBestValue = Main.values[i];
                bestP = i;
            }
        }
        return {
            bestPosition: bestP,
            bestValue: currentBestValue
        };
    };
    Algorithms.setBestValue = function () {
        for (var i = 0; i < Main.population.length; i++) {
            Main.values[i] = Algorithms.evaluate(Main.population[i]);
        }
        Main.currentBest = Algorithms.getCurrentBest();
        if (Main.bestValue === undefined || Main.bestValue > Main.currentBest.bestValue) {
            Main.best = Main.population[Main.currentBest.bestPosition].slice();
            Main.bestValue = Main.currentBest.bestValue;
            Main.UNCHANGED_GENS = 0;
        }
        else {
            Main.UNCHANGED_GENS += 1;
        }
    };
    Algorithms.randomIndivial = function (n) {
        var a = [];
        for (var i = 0; i < n; i++) {
            a.push(i);
        }
        return Algorithms.shuffle(a);
    };
    Algorithms.evaluate = function (indivial) {
        var sum = Main.dis[indivial[0]][indivial[indivial.length - 1]];
        for (var i = 1; i < indivial.length; i++) {
            sum += Main.dis[indivial[i]][indivial[i - 1]];
        }
        return sum;
    };
    Algorithms.countDistances = function () {
        var length = Main.points.length;
        Main.dis = new Array(length);
        for (var i = 0; i < length; i++) {
            Main.dis[i] = new Array(length);
            for (var j = 0; j < length; j++) {
                Main.dis[i][j] = Algorithms.distance(Main.points[i], Main.points[j]);
            }
        }
    };
    Algorithms.distance = function (p1, p2) {
        return Algorithms.euclidean(p1.x - p2.x, p1.y - p2.y);
    };
    Algorithms.shuffle = function (vetor) {
        for (var j, x, i = vetor.length - 1; i; j = this.randomNumber(i), x = vetor[--i], vetor[i] = vetor[j], vetor[j] = x)
            ;
        return vetor;
    };
    Algorithms.pushMutate = function (seq) {
        Main.mutationTimes++;
        var m, n;
        do {
            m = Algorithms.randomNumber(seq.length >> 1);
            n = Algorithms.randomNumber(seq.length);
        } while (m >= n);
        var s1 = seq.slice(0, m);
        var s2 = seq.slice(m, n);
        var s3 = seq.slice(n, seq.length);
        return s2.concat(s1).concat(s3).clone();
    };
    Algorithms.doMutate = function (seq) {
        Main.mutationTimes++;
        // m and n refers to the actual index in the array
        // m range from 0 to length-2, n range from 2...length-m
        var m, n;
        do {
            m = Algorithms.randomNumber(seq.length - 2);
            n = Algorithms.randomNumber(seq.length);
        } while (m >= n);
        for (var i = 0, j = (n - m + 1) >> 1; i < j; i++) {
            seq.swap(m + i, n - i);
        }
        return seq;
    };
    return Algorithms;
}());
var Crossover = (function () {
    function Crossover() {
    }
    Crossover.prototype.crossover = function () {
        var queue = new Array();
        for (var i = 0; i < Main.POPULATION_SIZE; i++) {
            if (Math.random() < Main.CROSSOVER_PROBABILITY) {
                queue.push(i);
            }
        }
        queue = Algorithms.shuffle(queue);
        for (var i = 0, j = queue.length - 1; i < j; i += 2) {
            this.doCrossover(queue[i], queue[i + 1]);
        }
    };
    Crossover.prototype.oxCrossover = function (x, y) {
        var px = Main.population[x].slice(0);
        var py = Main.population[y].slice(0);
        var rand = Algorithms.randomNumber(Main.points.length - 1) + 1;
        var pre_x = px.slice(0, rand);
        var pre_y = py.slice(0, rand);
        var tail_x = px.slice(rand, px.length);
        var tail_y = py.slice(rand, py.length);
        px = tail_x.concat(pre_x);
        py = tail_y.concat(pre_y);
        Main.population[x] = pre_y.concat(px.reject(pre_y));
        Main.population[y] = pre_x.concat(py.reject(pre_x));
    };
    Crossover.prototype.doCrossover = function (x, y) {
        var child1 = this.getChild('next', x, y);
        var child2 = this.getChild('previous', x, y);
        Main.population[x] = child1;
        Main.population[y] = child2;
    };
    Crossover.prototype.getChild = function (fun, x, y) {
        var solution = new Array();
        var px = Main.population[x].clone();
        var py = Main.population[y].clone();
        var dx, dy;
        var c = px[Algorithms.randomNumber(px.length)];
        solution.push(c);
        while (px.length > 1) {
            dx = px[fun](px.indexOf(c));
            dy = py[fun](py.indexOf(c));
            px.deleteByValue(c);
            py.deleteByValue(c);
            c = Main.dis[c][dx] < Main.dis[c][dy] ? dx : dy;
            solution.push(c);
        }
        return solution;
    };
    return Crossover;
}());
var DataTsp = (function () {
    function DataTsp() {
    }
    DataTsp.data40 = [{ "x": 116, "y": 404 }, { "x": 161, "y": 617 }, { "x": 16, "y": 97 }, { "x": 430, "y": 536 }, { "x": 601, "y": 504 }, { "x": 425, "y": 461 }, { "x": 114, "y": 544 }, { "x": 127, "y": 118 }, { "x": 163, "y": 357 }, { "x": 704, "y": 104 }, { "x": 864, "y": 125 }, { "x": 847, "y": 523 }, { "x": 742, "y": 170 }, { "x": 204, "y": 601 }, { "x": 421, "y": 377 }, { "x": 808, "y": 49 }, { "x": 860, "y": 466 }, { "x": 844, "y": 294 }, { "x": 147, "y": 213 }, { "x": 550, "y": 124 }, { "x": 238, "y": 313 }, { "x": 57, "y": 572 }, { "x": 664, "y": 190 }, { "x": 612, "y": 644 }, { "x": 456, "y": 154 }, { "x": 120, "y": 477 }, { "x": 542, "y": 313 }, { "x": 620, "y": 29 }, { "x": 245, "y": 246 }, { "x": 611, "y": 578 }, { "x": 627, "y": 373 }, { "x": 534, "y": 286 }, { "x": 577, "y": 545 }, { "x": 539, "y": 340 }, { "x": 794, "y": 328 }, { "x": 855, "y": 139 }, { "x": 700, "y": 47 }, { "x": 275, "y": 593 }, { "x": 130, "y": 196 }, { "x": 863, "y": 35 }];
    DataTsp.data200 = [{ "x": 150, "y": 172 }, { "x": 822, "y": 244 }, { "x": 619, "y": 220 }, { "x": 243, "y": 433 }, { "x": 9, "y": 48 }, { "x": 541, "y": 402 }, { "x": 540, "y": 212 }, { "x": 479, "y": 646 }, { "x": 545, "y": 90 }, { "x": 811, "y": 355 }, { "x": 314, "y": 325 }, { "x": 337, "y": 487 }, { "x": 675, "y": 76 }, { "x": 629, "y": 375 }, { "x": 809, "y": 105 }, { "x": 269, "y": 135 }, { "x": 423, "y": 592 }, { "x": 558, "y": 288 }, { "x": 622, "y": 70 }, { "x": 740, "y": 495 }, { "x": 508, "y": 79 }, { "x": 40, "y": 236 }, { "x": 818, "y": 252 }, { "x": 811, "y": 480 }, { "x": 458, "y": 220 }, { "x": 293, "y": 220 }, { "x": 582, "y": 275 }, { "x": 188, "y": 542 }, { "x": 300, "y": 235 }, { "x": 690, "y": 649 }, { "x": 166, "y": 565 }, { "x": 400, "y": 80 }, { "x": 121, "y": 498 }, { "x": 603, "y": 587 }, { "x": 729, "y": 89 }, { "x": 723, "y": 23 }, { "x": 171, "y": 609 }, { "x": 523, "y": 449 }, { "x": 668, "y": 102 }, { "x": 328, "y": 531 }, { "x": 468, "y": 588 }, { "x": 600, "y": 239 }, { "x": 312, "y": 636 }, { "x": 344, "y": 112 }, { "x": 267, "y": 184 }, { "x": 292, "y": 615 }, { "x": 21, "y": 401 }, { "x": 650, "y": 266 }, { "x": 535, "y": 393 }, { "x": 796, "y": 598 }, { "x": 29, "y": 412 }, { "x": 528, "y": 363 }, { "x": 344, "y": 152 }, { "x": 314, "y": 35 }, { "x": 138, "y": 191 }, { "x": 643, "y": 341 }, { "x": 350, "y": 423 }, { "x": 319, "y": 542 }, { "x": 797, "y": 659 }, { "x": 66, "y": 296 }, { "x": 761, "y": 574 }, { "x": 26, "y": 270 }, { "x": 129, "y": 509 }, { "x": 24, "y": 312 }, { "x": 89, "y": 635 }, { "x": 454, "y": 34 }, { "x": 717, "y": 189 }, { "x": 476, "y": 457 }, { "x": 471, "y": 212 }, { "x": 74, "y": 457 }, { "x": 406, "y": 221 }, { "x": 701, "y": 313 }, { "x": 719, "y": 642 }, { "x": 573, "y": 424 }, { "x": 250, "y": 231 }, { "x": 748, "y": 334 }, { "x": 318, "y": 453 }, { "x": 815, "y": 92 }, { "x": 198, "y": 47 }, { "x": 79, "y": 451 }, { "x": 502, "y": 582 }, { "x": 471, "y": 355 }, { "x": 509, "y": 257 }, { "x": 727, "y": 290 }, { "x": 476, "y": 281 }, { "x": 609, "y": 576 }, { "x": 772, "y": 72 }, { "x": 263, "y": 156 }, { "x": 411, "y": 203 }, { "x": 100, "y": 254 }, { "x": 29, "y": 208 }, { "x": 625, "y": 349 }, { "x": 789, "y": 163 }, { "x": 300, "y": 224 }, { "x": 637, "y": 57 }, { "x": 789, "y": 153 }, { "x": 429, "y": 427 }, { "x": 571, "y": 355 }, { "x": 426, "y": 348 }, { "x": 620, "y": 545 }, { "x": 601, "y": 322 }, { "x": 600, "y": 441 }, { "x": 519, "y": 357 }, { "x": 59, "y": 262 }, { "x": 878, "y": 621 }, { "x": 712, "y": 592 }, { "x": 202, "y": 341 }, { "x": 300, "y": 41 }, { "x": 87, "y": 647 }, { "x": 735, "y": 60 }, { "x": 289, "y": 110 }, { "x": 126, "y": 133 }, { "x": 375, "y": 584 }, { "x": 421, "y": 469 }, { "x": 775, "y": 341 }, { "x": 656, "y": 534 }, { "x": 225, "y": 634 }, { "x": 520, "y": 339 }, { "x": 865, "y": 515 }, { "x": 457, "y": 378 }, { "x": 293, "y": 141 }, { "x": 202, "y": 293 }, { "x": 347, "y": 423 }, { "x": 186, "y": 284 }, { "x": 572, "y": 600 }, { "x": 319, "y": 412 }, { "x": 685, "y": 73 }, { "x": 845, "y": 248 }, { "x": 834, "y": 339 }, { "x": 391, "y": 571 }, { "x": 139, "y": 346 }, { "x": 635, "y": 352 }, { "x": 401, "y": 117 }, { "x": 381, "y": 281 }, { "x": 471, "y": 552 }, { "x": 793, "y": 585 }, { "x": 279, "y": 520 }, { "x": 783, "y": 520 }, { "x": 374, "y": 38 }, { "x": 458, "y": 479 }, { "x": 869, "y": 15 }, { "x": 626, "y": 216 }, { "x": 148, "y": 604 }, { "x": 560, "y": 109 }, { "x": 342, "y": 141 }, { "x": 426, "y": 536 }, { "x": 697, "y": 414 }, { "x": 283, "y": 18 }, { "x": 172, "y": 181 }, { "x": 206, "y": 227 }, { "x": 763, "y": 291 }, { "x": 439, "y": 124 }, { "x": 523, "y": 388 }, { "x": 338, "y": 211 }, { "x": 30, "y": 593 }, { "x": 187, "y": 498 }, { "x": 126, "y": 86 }, { "x": 4, "y": 58 }, { "x": 566, "y": 329 }, { "x": 524, "y": 486 }, { "x": 788, "y": 334 }, { "x": 346, "y": 194 }, { "x": 506, "y": 231 }, { "x": 135, "y": 190 }, { "x": 288, "y": 406 }, { "x": 200, "y": 515 }, { "x": 739, "y": 91 }, { "x": 300, "y": 439 }, { "x": 725, "y": 420 }, { "x": 83, "y": 612 }, { "x": 665, "y": 336 }, { "x": 848, "y": 246 }, { "x": 865, "y": 521 }, { "x": 3, "y": 406 }, { "x": 187, "y": 431 }, { "x": 462, "y": 564 }, { "x": 530, "y": 648 }, { "x": 708, "y": 173 }, { "x": 325, "y": 96 }, { "x": 4, "y": 480 }, { "x": 530, "y": 512 }, { "x": 780, "y": 126 }, { "x": 614, "y": 610 }, { "x": 359, "y": 431 }, { "x": 343, "y": 640 }, { "x": 453, "y": 182 }, { "x": 648, "y": 477 }, { "x": 447, "y": 258 }, { "x": 23, "y": 465 }, { "x": 455, "y": 215 }, { "x": 534, "y": 396 }, { "x": 869, "y": 337 }, { "x": 511, "y": 290 }, { "x": 683, "y": 291 }, { "x": 328, "y": 370 }, { "x": 160, "y": 497 }, { "x": 144, "y": 203 }, { "x": 717, "y": 222 }, { "x": 31, "y": 376 }, { "x": 452, "y": 600 }];
    DataTsp.data500 = [{ "x": 780, "y": 560 }, { "x": 631, "y": 173 }, { "x": 452, "y": 237 }, { "x": 789, "y": 506 }, { "x": 308, "y": 175 }, { "x": 797, "y": 157 }, { "x": 524, "y": 583 }, { "x": 241, "y": 7 }, { "x": 340, "y": 105 }, { "x": 787, "y": 19 }, { "x": 168, "y": 342 }, { "x": 685, "y": 386 }, { "x": 739, "y": 195 }, { "x": 408, "y": 550 }, { "x": 581, "y": 577 }, { "x": 762, "y": 406 }, { "x": 14, "y": 370 }, { "x": 275, "y": 610 }, { "x": 38, "y": 484 }, { "x": 699, "y": 148 }, { "x": 780, "y": 272 }, { "x": 686, "y": 611 }, { "x": 42, "y": 650 }, { "x": 257, "y": 329 }, { "x": 1, "y": 260 }, { "x": 432, "y": 448 }, { "x": 805, "y": 546 }, { "x": 268, "y": 472 }, { "x": 174, "y": 154 }, { "x": 189, "y": 432 }, { "x": 869, "y": 653 }, { "x": 371, "y": 337 }, { "x": 192, "y": 279 }, { "x": 322, "y": 118 }, { "x": 842, "y": 584 }, { "x": 809, "y": 381 }, { "x": 717, "y": 250 }, { "x": 77, "y": 575 }, { "x": 654, "y": 21 }, { "x": 859, "y": 146 }, { "x": 534, "y": 561 }, { "x": 732, "y": 227 }, { "x": 154, "y": 371 }, { "x": 263, "y": 148 }, { "x": 64, "y": 524 }, { "x": 689, "y": 553 }, { "x": 316, "y": 358 }, { "x": 587, "y": 374 }, { "x": 679, "y": 125 }, { "x": 234, "y": 501 }, { "x": 282, "y": 403 }, { "x": 671, "y": 107 }, { "x": 703, "y": 347 }, { "x": 116, "y": 408 }, { "x": 655, "y": 593 }, { "x": 120, "y": 196 }, { "x": 111, "y": 240 }, { "x": 686, "y": 271 }, { "x": 237, "y": 213 }, { "x": 463, "y": 562 }, { "x": 543, "y": 240 }, { "x": 832, "y": 406 }, { "x": 705, "y": 280 }, { "x": 359, "y": 252 }, { "x": 494, "y": 575 }, { "x": 339, "y": 85 }, { "x": 719, "y": 115 }, { "x": 709, "y": 564 }, { "x": 752, "y": 178 }, { "x": 412, "y": 599 }, { "x": 207, "y": 524 }, { "x": 812, "y": 359 }, { "x": 13, "y": 500 }, { "x": 635, "y": 477 }, { "x": 243, "y": 236 }, { "x": 400, "y": 381 }, { "x": 639, "y": 551 }, { "x": 407, "y": 65 }, { "x": 39, "y": 619 }, { "x": 508, "y": 170 }, { "x": 150, "y": 115 }, { "x": 789, "y": 353 }, { "x": 64, "y": 178 }, { "x": 831, "y": 434 }, { "x": 539, "y": 83 }, { "x": 671, "y": 317 }, { "x": 806, "y": 479 }, { "x": 383, "y": 335 }, { "x": 405, "y": 103 }, { "x": 437, "y": 549 }, { "x": 62, "y": 590 }, { "x": 589, "y": 296 }, { "x": 536, "y": 539 }, { "x": 375, "y": 541 }, { "x": 659, "y": 326 }, { "x": 582, "y": 600 }, { "x": 482, "y": 73 }, { "x": 229, "y": 8 }, { "x": 545, "y": 292 }, { "x": 537, "y": 174 }, { "x": 704, "y": 273 }, { "x": 106, "y": 487 }, { "x": 759, "y": 575 }, { "x": 460, "y": 358 }, { "x": 85, "y": 6 }, { "x": 556, "y": 112 }, { "x": 347, "y": 196 }, { "x": 856, "y": 88 }, { "x": 612, "y": 395 }, { "x": 459, "y": 195 }, { "x": 198, "y": 431 }, { "x": 102, "y": 14 }, { "x": 750, "y": 403 }, { "x": 87, "y": 37 }, { "x": 719, "y": 146 }, { "x": 353, "y": 405 }, { "x": 633, "y": 476 }, { "x": 806, "y": 313 }, { "x": 529, "y": 509 }, { "x": 772, "y": 55 }, { "x": 298, "y": 527 }, { "x": 546, "y": 522 }, { "x": 7, "y": 72 }, { "x": 118, "y": 337 }, { "x": 377, "y": 216 }, { "x": 816, "y": 327 }, { "x": 227, "y": 167 }, { "x": 715, "y": 422 }, { "x": 324, "y": 516 }, { "x": 847, "y": 170 }, { "x": 752, "y": 422 }, { "x": 657, "y": 570 }, { "x": 539, "y": 450 }, { "x": 285, "y": 556 }, { "x": 381, "y": 168 }, { "x": 317, "y": 251 }, { "x": 303, "y": 197 }, { "x": 797, "y": 50 }, { "x": 820, "y": 193 }, { "x": 739, "y": 85 }, { "x": 623, "y": 118 }, { "x": 422, "y": 73 }, { "x": 696, "y": 205 }, { "x": 534, "y": 450 }, { "x": 511, "y": 263 }, { "x": 648, "y": 110 }, { "x": 601, "y": 518 }, { "x": 111, "y": 627 }, { "x": 771, "y": 572 }, { "x": 797, "y": 303 }, { "x": 335, "y": 332 }, { "x": 344, "y": 492 }, { "x": 345, "y": 610 }, { "x": 631, "y": 340 }, { "x": 863, "y": 305 }, { "x": 363, "y": 406 }, { "x": 414, "y": 14 }, { "x": 591, "y": 26 }, { "x": 602, "y": 592 }, { "x": 386, "y": 273 }, { "x": 687, "y": 183 }, { "x": 570, "y": 27 }, { "x": 613, "y": 645 }, { "x": 58, "y": 268 }, { "x": 668, "y": 375 }, { "x": 157, "y": 349 }, { "x": 634, "y": 627 }, { "x": 575, "y": 465 }, { "x": 175, "y": 460 }, { "x": 843, "y": 625 }, { "x": 425, "y": 20 }, { "x": 54, "y": 411 }, { "x": 459, "y": 659 }, { "x": 482, "y": 176 }, { "x": 593, "y": 296 }, { "x": 854, "y": 512 }, { "x": 132, "y": 551 }, { "x": 875, "y": 577 }, { "x": 774, "y": 470 }, { "x": 95, "y": 584 }, { "x": 575, "y": 614 }, { "x": 767, "y": 635 }, { "x": 426, "y": 212 }, { "x": 796, "y": 38 }, { "x": 33, "y": 147 }, { "x": 773, "y": 95 }, { "x": 141, "y": 640 }, { "x": 831, "y": 257 }, { "x": 684, "y": 175 }, { "x": 16, "y": 534 }, { "x": 399, "y": 579 }, { "x": 729, "y": 185 }, { "x": 759, "y": 217 }, { "x": 88, "y": 327 }, { "x": 43, "y": 167 }, { "x": 38, "y": 161 }, { "x": 331, "y": 405 }, { "x": 292, "y": 130 }, { "x": 527, "y": 658 }, { "x": 57, "y": 288 }, { "x": 546, "y": 479 }, { "x": 77, "y": 118 }, { "x": 810, "y": 74 }, { "x": 668, "y": 101 }, { "x": 125, "y": 570 }, { "x": 734, "y": 267 }, { "x": 790, "y": 417 }, { "x": 784, "y": 204 }, { "x": 242, "y": 335 }, { "x": 548, "y": 458 }, { "x": 373, "y": 189 }, { "x": 88, "y": 216 }, { "x": 738, "y": 1 }, { "x": 588, "y": 384 }, { "x": 600, "y": 221 }, { "x": 161, "y": 340 }, { "x": 862, "y": 400 }, { "x": 717, "y": 82 }, { "x": 434, "y": 19 }, { "x": 367, "y": 476 }, { "x": 373, "y": 288 }, { "x": 198, "y": 508 }, { "x": 781, "y": 516 }, { "x": 410, "y": 401 }, { "x": 96, "y": 377 }, { "x": 779, "y": 653 }, { "x": 319, "y": 404 }, { "x": 680, "y": 66 }, { "x": 209, "y": 381 }, { "x": 664, "y": 41 }, { "x": 230, "y": 340 }, { "x": 650, "y": 499 }, { "x": 524, "y": 604 }, { "x": 344, "y": 287 }, { "x": 517, "y": 351 }, { "x": 4, "y": 10 }, { "x": 146, "y": 233 }, { "x": 766, "y": 185 }, { "x": 154, "y": 476 }, { "x": 153, "y": 534 }, { "x": 797, "y": 278 }, { "x": 686, "y": 434 }, { "x": 241, "y": 469 }, { "x": 8, "y": 550 }, { "x": 292, "y": 118 }, { "x": 737, "y": 118 }, { "x": 600, "y": 610 }, { "x": 134, "y": 405 }, { "x": 541, "y": 96 }, { "x": 178, "y": 53 }, { "x": 283, "y": 618 }, { "x": 227, "y": 559 }, { "x": 724, "y": 264 }, { "x": 93, "y": 192 }, { "x": 218, "y": 531 }, { "x": 279, "y": 395 }, { "x": 635, "y": 430 }, { "x": 783, "y": 424 }, { "x": 15, "y": 34 }, { "x": 106, "y": 406 }, { "x": 371, "y": 277 }, { "x": 659, "y": 222 }, { "x": 29, "y": 401 }, { "x": 27, "y": 194 }, { "x": 417, "y": 657 }, { "x": 548, "y": 12 }, { "x": 394, "y": 160 }, { "x": 727, "y": 410 }, { "x": 217, "y": 459 }, { "x": 286, "y": 629 }, { "x": 748, "y": 105 }, { "x": 679, "y": 514 }, { "x": 65, "y": 487 }, { "x": 221, "y": 160 }, { "x": 42, "y": 239 }, { "x": 822, "y": 390 }, { "x": 452, "y": 291 }, { "x": 561, "y": 107 }, { "x": 389, "y": 451 }, { "x": 317, "y": 94 }, { "x": 34, "y": 50 }, { "x": 324, "y": 284 }, { "x": 768, "y": 531 }, { "x": 678, "y": 432 }, { "x": 663, "y": 411 }, { "x": 153, "y": 27 }, { "x": 287, "y": 348 }, { "x": 444, "y": 184 }, { "x": 686, "y": 482 }, { "x": 129, "y": 122 }, { "x": 667, "y": 368 }, { "x": 263, "y": 78 }, { "x": 109, "y": 190 }, { "x": 271, "y": 208 }, { "x": 72, "y": 346 }, { "x": 582, "y": 5 }, { "x": 546, "y": 343 }, { "x": 432, "y": 305 }, { "x": 805, "y": 5 }, { "x": 329, "y": 100 }, { "x": 747, "y": 304 }, { "x": 255, "y": 283 }, { "x": 319, "y": 623 }, { "x": 602, "y": 145 }, { "x": 818, "y": 582 }, { "x": 478, "y": 491 }, { "x": 151, "y": 451 }, { "x": 628, "y": 605 }, { "x": 803, "y": 260 }, { "x": 706, "y": 636 }, { "x": 192, "y": 535 }, { "x": 342, "y": 177 }, { "x": 259, "y": 599 }, { "x": 365, "y": 229 }, { "x": 583, "y": 426 }, { "x": 340, "y": 562 }, { "x": 405, "y": 629 }, { "x": 116, "y": 260 }, { "x": 533, "y": 479 }, { "x": 411, "y": 615 }, { "x": 382, "y": 125 }, { "x": 36, "y": 272 }, { "x": 863, "y": 466 }, { "x": 600, "y": 288 }, { "x": 30, "y": 648 }, { "x": 335, "y": 269 }, { "x": 302, "y": 92 }, { "x": 607, "y": 98 }, { "x": 522, "y": 101 }, { "x": 801, "y": 339 }, { "x": 412, "y": 189 }, { "x": 776, "y": 446 }, { "x": 77, "y": 528 }, { "x": 425, "y": 547 }, { "x": 535, "y": 317 }, { "x": 802, "y": 229 }, { "x": 698, "y": 534 }, { "x": 109, "y": 109 }, { "x": 321, "y": 37 }, { "x": 232, "y": 115 }, { "x": 168, "y": 621 }, { "x": 637, "y": 502 }, { "x": 177, "y": 156 }, { "x": 66, "y": 376 }, { "x": 646, "y": 329 }, { "x": 345, "y": 290 }, { "x": 861, "y": 28 }, { "x": 791, "y": 184 }, { "x": 745, "y": 244 }, { "x": 90, "y": 370 }, { "x": 610, "y": 617 }, { "x": 592, "y": 452 }, { "x": 410, "y": 500 }, { "x": 410, "y": 288 }, { "x": 645, "y": 239 }, { "x": 278, "y": 163 }, { "x": 761, "y": 27 }, { "x": 275, "y": 33 }, { "x": 185, "y": 203 }, { "x": 794, "y": 129 }, { "x": 121, "y": 421 }, { "x": 505, "y": 126 }, { "x": 750, "y": 309 }, { "x": 222, "y": 518 }, { "x": 276, "y": 272 }, { "x": 626, "y": 61 }, { "x": 665, "y": 320 }, { "x": 379, "y": 38 }, { "x": 459, "y": 357 }, { "x": 337, "y": 450 }, { "x": 307, "y": 418 }, { "x": 867, "y": 631 }, { "x": 191, "y": 272 }, { "x": 55, "y": 465 }, { "x": 861, "y": 291 }, { "x": 465, "y": 101 }, { "x": 792, "y": 81 }, { "x": 750, "y": 278 }, { "x": 630, "y": 488 }, { "x": 382, "y": 539 }, { "x": 282, "y": 527 }, { "x": 345, "y": 575 }, { "x": 24, "y": 421 }, { "x": 810, "y": 491 }, { "x": 270, "y": 356 }, { "x": 22, "y": 646 }, { "x": 663, "y": 617 }, { "x": 861, "y": 452 }, { "x": 879, "y": 409 }, { "x": 90, "y": 515 }, { "x": 672, "y": 416 }, { "x": 331, "y": 68 }, { "x": 165, "y": 570 }, { "x": 706, "y": 384 }, { "x": 760, "y": 85 }, { "x": 235, "y": 477 }, { "x": 42, "y": 451 }, { "x": 442, "y": 598 }, { "x": 551, "y": 539 }, { "x": 334, "y": 419 }, { "x": 417, "y": 656 }, { "x": 137, "y": 610 }, { "x": 717, "y": 505 }, { "x": 56, "y": 619 }, { "x": 695, "y": 527 }, { "x": 501, "y": 514 }, { "x": 796, "y": 315 }, { "x": 322, "y": 218 }, { "x": 818, "y": 215 }, { "x": 2, "y": 239 }, { "x": 143, "y": 232 }, { "x": 240, "y": 38 }, { "x": 165, "y": 277 }, { "x": 281, "y": 91 }, { "x": 77, "y": 297 }, { "x": 477, "y": 18 }, { "x": 617, "y": 407 }, { "x": 419, "y": 170 }, { "x": 876, "y": 275 }, { "x": 159, "y": 277 }, { "x": 777, "y": 104 }, { "x": 857, "y": 25 }, { "x": 506, "y": 418 }, { "x": 800, "y": 170 }, { "x": 121, "y": 625 }, { "x": 500, "y": 579 }, { "x": 762, "y": 294 }, { "x": 428, "y": 614 }, { "x": 818, "y": 584 }, { "x": 826, "y": 101 }, { "x": 513, "y": 566 }, { "x": 719, "y": 638 }, { "x": 366, "y": 121 }, { "x": 2, "y": 142 }, { "x": 176, "y": 382 }, { "x": 220, "y": 280 }, { "x": 141, "y": 210 }, { "x": 437, "y": 419 }, { "x": 139, "y": 84 }, { "x": 581, "y": 449 }, { "x": 238, "y": 485 }, { "x": 12, "y": 139 }, { "x": 140, "y": 324 }, { "x": 127, "y": 542 }, { "x": 328, "y": 314 }, { "x": 207, "y": 123 }, { "x": 805, "y": 285 }, { "x": 4, "y": 566 }, { "x": 603, "y": 592 }, { "x": 641, "y": 77 }, { "x": 863, "y": 498 }, { "x": 201, "y": 387 }, { "x": 373, "y": 357 }, { "x": 112, "y": 322 }, { "x": 867, "y": 472 }, { "x": 381, "y": 633 }, { "x": 467, "y": 234 }, { "x": 134, "y": 63 }, { "x": 533, "y": 468 }, { "x": 6, "y": 185 }, { "x": 574, "y": 362 }, { "x": 311, "y": 451 }, { "x": 100, "y": 572 }, { "x": 318, "y": 47 }, { "x": 114, "y": 650 }, { "x": 704, "y": 641 }, { "x": 375, "y": 355 }, { "x": 693, "y": 391 }, { "x": 549, "y": 154 }, { "x": 355, "y": 167 }, { "x": 340, "y": 493 }, { "x": 17, "y": 98 }, { "x": 331, "y": 179 }, { "x": 667, "y": 431 }, { "x": 231, "y": 460 }, { "x": 335, "y": 270 }, { "x": 351, "y": 0 }, { "x": 843, "y": 449 }, { "x": 785, "y": 1 }, { "x": 306, "y": 86 }, { "x": 302, "y": 496 }, { "x": 790, "y": 236 }, { "x": 69, "y": 49 }, { "x": 732, "y": 160 }, { "x": 515, "y": 73 }, { "x": 342, "y": 253 }, { "x": 150, "y": 579 }, { "x": 126, "y": 317 }, { "x": 272, "y": 432 }, { "x": 482, "y": 301 }, { "x": 607, "y": 622 }, { "x": 158, "y": 53 }, { "x": 711, "y": 480 }, { "x": 652, "y": 193 }, { "x": 681, "y": 151 }, { "x": 828, "y": 359 }, { "x": 563, "y": 71 }, { "x": 70, "y": 138 }, { "x": 755, "y": 192 }, { "x": 636, "y": 133 }];
    DataTsp.dataTest = [{ "x": 0, "y": 13 },
        { "x": 0, "y": 26 },
        { "x": 0, "y": 27 },
        { "x": 0, "y": 39 },
        { "x": 2, "y": 0 },
        { "x": 5, "y": 13 },
        { "x": 5, "y": 19 },
        { "x": 5, "y": 25 },
        { "x": 5, "y": 31 },
        { "x": 5, "y": 37 },
        { "x": 5, "y": 43 },
        { "x": 5, "y": 8 },
        { "x": 8, "y": 0 },
        { "x": 9, "y": 10 },
        { "x": 10, "y": 10 },
        { "x": 11, "y": 10 },
        { "x": 12, "y": 10 },
        { "x": 12, "y": 5 },
        { "x": 15, "y": 13 },
        { "x": 15, "y": 19 },
        { "x": 15, "y": 25 },
        { "x": 15, "y": 31 },
        { "x": 15, "y": 37 },
        { "x": 15, "y": 43 },
        { "x": 15, "y": 8 },
        { "x": 18, "y": 11 },
        { "x": 18, "y": 13 },
        { "x": 18, "y": 15 },
        { "x": 18, "y": 17 },
        { "x": 18, "y": 19 },
        { "x": 18, "y": 21 },
        { "x": 18, "y": 23 },
        { "x": 18, "y": 25 },
        { "x": 18, "y": 27 },
        { "x": 18, "y": 29 },
        { "x": 18, "y": 31 },
        { "x": 18, "y": 33 },
        { "x": 18, "y": 35 },
        { "x": 18, "y": 37 },
        { "x": 18, "y": 39 },
        { "x": 18, "y": 41 },
        { "x": 18, "y": 42 },
        { "x": 18, "y": 44 },
        { "x": 18, "y": 45 },
        { "x": 25, "y": 11 },
        { "x": 25, "y": 15 },
        { "x": 25, "y": 22 },
        { "x": 25, "y": 23 },
        { "x": 25, "y": 24 },
        { "x": 25, "y": 26 },
        { "x": 25, "y": 28 },
        { "x": 25, "y": 29 },
        { "x": 25, "y": 9 },
        { "x": 28, "y": 16 },
        { "x": 28, "y": 20 },
        { "x": 28, "y": 28 },
        { "x": 28, "y": 30 },
        { "x": 28, "y": 34 },
        { "x": 28, "y": 40 },
        { "x": 28, "y": 43 },
        { "x": 28, "y": 47 },
        { "x": 32, "y": 26 },
        { "x": 32, "y": 31 },
        { "x": 33, "y": 15 },
        { "x": 33, "y": 26 },
        { "x": 33, "y": 29 },
        { "x": 33, "y": 31 },
        { "x": 34, "y": 15 },
        { "x": 34, "y": 26 },
        { "x": 34, "y": 29 },
        { "x": 34, "y": 31 },
        { "x": 34, "y": 38 },
        { "x": 34, "y": 41 },
        { "x": 34, "y": 5 },
        { "x": 35, "y": 17 },
        { "x": 35, "y": 31 },
        { "x": 38, "y": 16 },
        { "x": 38, "y": 20 },
        { "x": 38, "y": 30 },
        { "x": 38, "y": 34 },
        { "x": 40, "y": 22 },
        { "x": 41, "y": 23 },
        { "x": 41, "y": 32 },
        { "x": 41, "y": 34 },
        { "x": 41, "y": 35 },
        { "x": 41, "y": 36 },
        { "x": 48, "y": 22 },
        { "x": 48, "y": 27 },
        { "x": 48, "y": 6 },
        { "x": 51, "y": 45 },
        { "x": 51, "y": 47 },
        { "x": 56, "y": 25 },
        { "x": 57, "y": 12 },
        { "x": 57, "y": 25 },
        { "x": 57, "y": 44 },
        { "x": 61, "y": 45 },
        { "x": 61, "y": 47 },
        { "x": 63, "y": 6 },
        { "x": 64, "y": 22 },
        { "x": 71, "y": 11 },
        { "x": 71, "y": 13 },
        { "x": 71, "y": 16 },
        { "x": 71, "y": 45 },
        { "x": 71, "y": 47 },
        { "x": 74, "y": 12 },
        { "x": 74, "y": 16 },
        { "x": 74, "y": 20 },
        { "x": 74, "y": 24 },
        { "x": 74, "y": 29 },
        { "x": 74, "y": 35 },
        { "x": 74, "y": 39 },
        { "x": 74, "y": 6 },
        { "x": 77, "y": 21 },
        { "x": 78, "y": 10 },
        { "x": 78, "y": 32 },
        { "x": 78, "y": 35 },
        { "x": 78, "y": 39 },
        { "x": 79, "y": 10 },
        { "x": 79, "y": 33 },
        { "x": 79, "y": 37 },
        { "x": 80, "y": 10 },
        { "x": 80, "y": 41 },
        { "x": 80, "y": 5 },
        { "x": 81, "y": 17 },
        { "x": 84, "y": 20 },
        { "x": 84, "y": 24 },
        { "x": 84, "y": 29 },
        { "x": 84, "y": 34 },
        { "x": 84, "y": 38 },
        { "x": 84, "y": 6 },
        { "x": 107, "y": 27 }];
    DataTsp.dataPr = [{ "x": 7125, "y": 11300 },
        { "x": 7225, "y": 11050 },
        { "x": 7225, "y": 11150 },
        { "x": 7375, "y": 11300 },
        { "x": 7500, "y": 11200 },
        { "x": 7625, "y": 11275 },
        { "x": 7725, "y": 11275 },
        { "x": 7825, "y": 11275 },
        { "x": 7925, "y": 11275 },
        { "x": 8050, "y": 11225 },
        { "x": 8050, "y": 11125 },
        { "x": 8150, "y": 11125 },
        { "x": 8275, "y": 11300 },
        { "x": 8400, "y": 11300 },
        { "x": 8525, "y": 11300 },
        { "x": 8650, "y": 11300 },
        { "x": 8750, "y": 11200 },
        { "x": 12475, "y": 10800 },
        { "x": 12075, "y": 10800 },
        { "x": 11975, "y": 10975 },
        { "x": 11575, "y": 10975 },
        { "x": 11525, "y": 10850 },
        { "x": 11400, "y": 10975 },
        { "x": 11425, "y": 10850 },
        { "x": 11000, "y": 10975 },
        { "x": 10475, "y": 10850 },
        { "x": 10375, "y": 10850 },
        { "x": 10300, "y": 10975 },
        { "x": 10250, "y": 10850 },
        { "x": 9900, "y": 10975 },
        { "x": 9850, "y": 10850 },
        { "x": 9350, "y": 11000 },
        { "x": 8750, "y": 11000 },
        { "x": 8650, "y": 10900 },
        { "x": 8525, "y": 10900 },
        { "x": 8400, "y": 10900 },
        { "x": 8275, "y": 10900 },
        { "x": 8050, "y": 10775 },
        { "x": 7900, "y": 10775 },
        { "x": 7925, "y": 10975 },
        { "x": 7825, "y": 10975 },
        { "x": 7750, "y": 10775 },
        { "x": 7725, "y": 10975 },
        { "x": 7600, "y": 10775 },
        { "x": 7625, "y": 10975 },
        { "x": 7500, "y": 11000 },
        { "x": 7425, "y": 10750 },
        { "x": 7325, "y": 10750 },
        { "x": 7375, "y": 10900 },
        { "x": 7225, "y": 10750 },
        { "x": 7125, "y": 10750 },
        { "x": 7125, "y": 10900 },
        { "x": 7125, "y": 10450 },
        { "x": 7225, "y": 10450 },
        { "x": 7325, "y": 10450 },
        { "x": 7425, "y": 10450 },
        { "x": 8300, "y": 10500 },
        { "x": 8600, "y": 10500 },
        { "x": 8950, "y": 10425 },
        { "x": 9050, "y": 10425 },
        { "x": 9150, "y": 10425 },
        { "x": 9350, "y": 10600 },
        { "x": 10200, "y": 10600 },
        { "x": 10700, "y": 10600 },
        { "x": 11375, "y": 10575 },
        { "x": 11525, "y": 10625 },
        { "x": 11650, "y": 10625 },
        { "x": 11775, "y": 10450 },
        { "x": 11775, "y": 10250 },
        { "x": 11650, "y": 10125 },
        { "x": 11525, "y": 10125 },
        { "x": 11375, "y": 10175 },
        { "x": 10250, "y": 10325 },
        { "x": 10250, "y": 10125 },
        { "x": 9275, "y": 10275 },
        { "x": 9175, "y": 10275 },
        { "x": 8950, "y": 10200 },
        { "x": 8750, "y": 10200 },
        { "x": 8050, "y": 10275 },
        { "x": 7900, "y": 10275 },
        { "x": 7750, "y": 10275 },
        { "x": 7600, "y": 10275 },
        { "x": 4975, "y": 10125 },
        { "x": 4750, "y": 10125 },
        { "x": 4525, "y": 10125 },
        { "x": 8750, "y": 10000 },
        { "x": 8950, "y": 10000 },
        { "x": 11375, "y": 10000 },
        { "x": 11475, "y": 10000 },
        { "x": 11575, "y": 10000 },
        { "x": 11675, "y": 10000 },
        { "x": 12100, "y": 9875 },
        { "x": 12225, "y": 9875 },
        { "x": 12350, "y": 9875 },
        { "x": 12750, "y": 9925 },
        { "x": 12875, "y": 9925 },
        { "x": 13125, "y": 9875 },
        { "x": 13000, "y": 9800 },
        { "x": 13000, "y": 9550 },
        { "x": 12600, "y": 9775 },
        { "x": 12600, "y": 9575 },
        { "x": 11975, "y": 9800 },
        { "x": 11975, "y": 9550 },
        { "x": 11675, "y": 9700 },
        { "x": 11575, "y": 9700 },
        { "x": 11475, "y": 9700 },
        { "x": 11375, "y": 9700 },
        { "x": 10975, "y": 9600 },
        { "x": 10850, "y": 9600 },
        { "x": 10375, "y": 9250 },
        { "x": 10475, "y": 9250 },
        { "x": 10575, "y": 9250 },
        { "x": 11725, "y": 9325 },
        { "x": 11850, "y": 9375 },
        { "x": 12100, "y": 9475 },
        { "x": 12050, "y": 9275 },
        { "x": 12225, "y": 9475 },
        { "x": 12150, "y": 9275 },
        { "x": 12250, "y": 9275 },
        { "x": 12350, "y": 9475 },
        { "x": 12350, "y": 9275 },
        { "x": 12525, "y": 9325 },
        { "x": 12750, "y": 9425 },
        { "x": 12775, "y": 9275 },
        { "x": 12875, "y": 9425 },
        { "x": 12875, "y": 9275 },
        { "x": 12975, "y": 9275 },
        { "x": 13125, "y": 9475 },
        { "x": 13075, "y": 9275 },
        { "x": 13250, "y": 9375 },
        { "x": 13375, "y": 9375 },
        { "x": 13500, "y": 9375 },
        { "x": 13625, "y": 9375 },
        { "x": 13075, "y": 8975 },
        { "x": 12975, "y": 8975 },
        { "x": 12875, "y": 8975 },
        { "x": 12775, "y": 8975 },
        { "x": 12525, "y": 8925 },
        { "x": 12350, "y": 8975 },
        { "x": 12250, "y": 8975 },
        { "x": 12150, "y": 8975 },
        { "x": 12050, "y": 8975 },
        { "x": 11725, "y": 8925 },
        { "x": 10975, "y": 9200 },
        { "x": 10900, "y": 8975 },
        { "x": 10850, "y": 9200 },
        { "x": 10800, "y": 9075 },
        { "x": 10800, "y": 8975 },
        { "x": 5150, "y": 8750 },
        { "x": 11650, "y": 8725 },
        { "x": 11775, "y": 8775 },
        { "x": 11850, "y": 8875 },
        { "x": 11900, "y": 8725 },
        { "x": 12025, "y": 8625 },
        { "x": 12150, "y": 8650 },
        { "x": 12275, "y": 8725 },
        { "x": 12400, "y": 8625 },
        { "x": 12525, "y": 8725 },
        { "x": 12650, "y": 8625 },
        { "x": 12850, "y": 8725 },
        { "x": 12975, "y": 8625 },
        { "x": 13100, "y": 8775 },
        { "x": 13250, "y": 8875 },
        { "x": 13375, "y": 8875 },
        { "x": 13500, "y": 8875 },
        { "x": 13475, "y": 8725 },
        { "x": 13625, "y": 8875 },
        { "x": 13700, "y": 8500 },
        { "x": 13600, "y": 8600 },
        { "x": 13600, "y": 8500 },
        { "x": 13475, "y": 8325 },
        { "x": 13350, "y": 8350 },
        { "x": 13250, "y": 8450 },
        { "x": 13250, "y": 8350 },
        { "x": 12975, "y": 8425 },
        { "x": 12850, "y": 8325 },
        { "x": 12650, "y": 8425 },
        { "x": 12525, "y": 8325 },
        { "x": 12400, "y": 8425 },
        { "x": 12275, "y": 8325 },
        { "x": 12150, "y": 8400 },
        { "x": 12025, "y": 8425 },
        { "x": 11900, "y": 8325 },
        { "x": 11650, "y": 8325 },
        { "x": 11000, "y": 8575 },
        { "x": 4900, "y": 8500 },
        { "x": 6150, "y": 8275 },
        { "x": 6625, "y": 8300 },
        { "x": 7025, "y": 8300 },
        { "x": 11225, "y": 8125 },
        { "x": 11550, "y": 8125 },
        { "x": 11775, "y": 8275 },
        { "x": 11850, "y": 8125 },
        { "x": 11975, "y": 8125 },
        { "x": 12100, "y": 8125 },
        { "x": 12225, "y": 8125 },
        { "x": 12350, "y": 8125 },
        { "x": 12475, "y": 8025 },
        { "x": 12600, "y": 8125 },
        { "x": 12725, "y": 8125 },
        { "x": 12850, "y": 8125 },
        { "x": 12975, "y": 8125 },
        { "x": 13100, "y": 8125 },
        { "x": 13100, "y": 8275 },
        { "x": 13225, "y": 8125 },
        { "x": 13375, "y": 8175 },
        { "x": 13500, "y": 8175 },
        { "x": 13625, "y": 8125 },
        { "x": 13625, "y": 7725 },
        { "x": 13225, "y": 7725 },
        { "x": 13100, "y": 7725 },
        { "x": 12975, "y": 7725 },
        { "x": 12850, "y": 7725 },
        { "x": 12725, "y": 7725 },
        { "x": 12600, "y": 7725 },
        { "x": 12475, "y": 7825 },
        { "x": 12350, "y": 7725 },
        { "x": 12225, "y": 7725 },
        { "x": 12100, "y": 7725 },
        { "x": 11975, "y": 7725 },
        { "x": 11850, "y": 7725 },
        { "x": 11550, "y": 7725 },
        { "x": 11225, "y": 7725 },
        { "x": 11000, "y": 7775 },
        { "x": 6625, "y": 7950 },
        { "x": 4800, "y": 7825 },
        { "x": 4550, "y": 7825 },
        { "x": 4550, "y": 7425 },
        { "x": 4800, "y": 7425 },
        { "x": 6150, "y": 7525 },
        { "x": 6825, "y": 7575 },
        { "x": 7075, "y": 7575 },
        { "x": 11450, "y": 7500 },
        { "x": 11550, "y": 7500 },
        { "x": 11650, "y": 7500 },
        { "x": 11750, "y": 7500 },
        { "x": 11850, "y": 7500 },
        { "x": 11950, "y": 7500 },
        { "x": 12050, "y": 7500 },
        { "x": 12150, "y": 7500 },
        { "x": 12325, "y": 7550 },
        { "x": 12500, "y": 7500 },
        { "x": 12600, "y": 7500 },
        { "x": 12700, "y": 7500 },
        { "x": 12800, "y": 7500 },
        { "x": 13025, "y": 7500 },
        { "x": 13125, "y": 7500 },
        { "x": 13225, "y": 7500 },
        { "x": 13325, "y": 7500 },
        { "x": 13375, "y": 7675 },
        { "x": 13500, "y": 7675 },
        { "x": 13500, "y": 7450 },
        { "x": 13625, "y": 7550 },
        { "x": 13625, "y": 7150 },
        { "x": 13500, "y": 7250 },
        { "x": 13325, "y": 7200 },
        { "x": 13225, "y": 7200 },
        { "x": 13125, "y": 7200 },
        { "x": 13025, "y": 7200 },
        { "x": 12800, "y": 7200 },
        { "x": 12700, "y": 7200 },
        { "x": 12600, "y": 7200 },
        { "x": 12500, "y": 7200 },
        { "x": 12325, "y": 7150 },
        { "x": 12150, "y": 7200 },
        { "x": 12050, "y": 7200 },
        { "x": 11950, "y": 7200 },
        { "x": 11850, "y": 7200 },
        { "x": 11750, "y": 7200 },
        { "x": 11650, "y": 7200 },
        { "x": 11550, "y": 7200 },
        { "x": 11450, "y": 7200 },
        { "x": 11050, "y": 7125 },
        { "x": 10950, "y": 7125 },
        { "x": 10850, "y": 7125 },
        { "x": 10750, "y": 7125 },
        { "x": 10650, "y": 7125 },
        { "x": 10550, "y": 7125 },
        { "x": 10450, "y": 7125 },
        { "x": 7075, "y": 7175 },
        { "x": 5825, "y": 7350 },
        { "x": 5425, "y": 7350 },
        { "x": 4425, "y": 7275 },
        { "x": 4425, "y": 6875 },
        { "x": 7075, "y": 7075 },
        { "x": 7250, "y": 7025 },
        { "x": 7250, "y": 6900 },
        { "x": 7750, "y": 6900 },
        { "x": 7900, "y": 6900 },
        { "x": 8200, "y": 6900 },
        { "x": 8350, "y": 6900 },
        { "x": 8650, "y": 6900 },
        { "x": 8800, "y": 6900 },
        { "x": 10450, "y": 6825 },
        { "x": 10550, "y": 6825 },
        { "x": 10650, "y": 6825 },
        { "x": 10750, "y": 6825 },
        { "x": 10850, "y": 6825 },
        { "x": 10950, "y": 6825 },
        { "x": 11050, "y": 6825 },
        { "x": 11425, "y": 6975 },
        { "x": 11575, "y": 6925 },
        { "x": 11575, "y": 6825 },
        { "x": 11675, "y": 6825 },
        { "x": 11850, "y": 6975 },
        { "x": 11975, "y": 6975 },
        { "x": 12225, "y": 6975 },
        { "x": 12350, "y": 6975 },
        { "x": 12475, "y": 6975 },
        { "x": 12600, "y": 6975 },
        { "x": 12725, "y": 6875 },
        { "x": 12850, "y": 6975 },
        { "x": 12975, "y": 6975 },
        { "x": 13125, "y": 7025 },
        { "x": 13275, "y": 6975 },
        { "x": 13400, "y": 7025 },
        { "x": 13400, "y": 6525 },
        { "x": 13275, "y": 6575 },
        { "x": 13125, "y": 6525 },
        { "x": 12975, "y": 6575 },
        { "x": 12850, "y": 6575 },
        { "x": 12725, "y": 6675 },
        { "x": 12600, "y": 6575 },
        { "x": 12475, "y": 6575 },
        { "x": 12350, "y": 6575 },
        { "x": 12225, "y": 6575 },
        { "x": 11975, "y": 6575 },
        { "x": 11850, "y": 6575 },
        { "x": 11675, "y": 6575 },
        { "x": 11575, "y": 6675 },
        { "x": 11575, "y": 6575 },
        { "x": 11425, "y": 6575 },
        { "x": 11050, "y": 6625 },
        { "x": 10950, "y": 6625 },
        { "x": 10850, "y": 6625 },
        { "x": 10750, "y": 6625 },
        { "x": 10650, "y": 6625 },
        { "x": 10550, "y": 6625 },
        { "x": 10450, "y": 6625 },
        { "x": 7075, "y": 6675 },
        { "x": 5675, "y": 6650 },
        { "x": 5175, "y": 6650 },
        { "x": 5050, "y": 6575 },
        { "x": 4650, "y": 6575 },
        { "x": 7650, "y": 6375 },
        { "x": 7750, "y": 6375 },
        { "x": 7750, "y": 6500 },
        { "x": 7850, "y": 6375 },
        { "x": 7900, "y": 6500 },
        { "x": 8100, "y": 6375 },
        { "x": 8200, "y": 6375 },
        { "x": 8200, "y": 6500 },
        { "x": 8300, "y": 6375 },
        { "x": 8350, "y": 6500 },
        { "x": 8550, "y": 6375 },
        { "x": 8650, "y": 6375 },
        { "x": 8650, "y": 6500 },
        { "x": 8750, "y": 6375 },
        { "x": 8800, "y": 6500 },
        { "x": 10450, "y": 6325 },
        { "x": 10550, "y": 6325 },
        { "x": 10650, "y": 6325 },
        { "x": 10750, "y": 6325 },
        { "x": 10850, "y": 6325 },
        { "x": 10950, "y": 6325 },
        { "x": 11050, "y": 6325 },
        { "x": 11100, "y": 6075 },
        { "x": 10950, "y": 6075 },
        { "x": 10800, "y": 6125 },
        { "x": 10300, "y": 6125 },
        { "x": 5550, "y": 5675 },
        { "x": 5625, "y": 5625 },
        { "x": 5675, "y": 5750 },
        { "x": 6175, "y": 5750 },
        { "x": 6225, "y": 5625 },
        { "x": 7625, "y": 5850 },
        { "x": 7875, "y": 5850 },
        { "x": 10950, "y": 5800 },
        { "x": 7875, "y": 5350 },
        { "x": 7625, "y": 5350 },
        { "x": 6175, "y": 5400 },
        { "x": 5675, "y": 5400 },
        { "x": 5550, "y": 5425 },
        { "x": 5550, "y": 5200 },
        { "x": 10950, "y": 5300 },
        { "x": 11050, "y": 5075 },
        { "x": 11200, "y": 5075 },
        { "x": 11350, "y": 4875 },
        { "x": 7875, "y": 4875 },
        { "x": 7675, "y": 4875 },
        { "x": 6225, "y": 5000 },
        { "x": 6175, "y": 4875 },
        { "x": 5675, "y": 4875 },
        { "x": 5625, "y": 5000 },
        { "x": 5550, "y": 4950 },
        { "x": 5550, "y": 4475 },
        { "x": 5550, "y": 4675 },
        { "x": 5675, "y": 4675 },
        { "x": 6175, "y": 4675 },
        { "x": 11350, "y": 4425 },
        { "x": 11350, "y": 4650 },
        { "x": 13225, "y": 4275 },
        { "x": 4225, "y": 4075 },
        { "x": 13225, "y": 4075 },
        { "x": 13225, "y": 3700 },
        { "x": 6350, "y": 3600 },
        { "x": 5950, "y": 3600 },
        { "x": 4225, "y": 3675 },
        { "x": 4225, "y": 3525 },
        { "x": 4475, "y": 3300 },
        { "x": 4475, "y": 3450 },
        { "x": 4975, "y": 3300 },
        { "x": 4975, "y": 3450 },
        { "x": 7900, "y": 3350 },
        { "x": 10650, "y": 3525 },
        { "x": 10850, "y": 3525 },
        { "x": 13225, "y": 3500 },
        { "x": 13225, "y": 3125 },
        { "x": 8275, "y": 3000 },
        { "x": 8125, "y": 3000 },
        { "x": 7900, "y": 3200 },
        { "x": 4975, "y": 3000 },
        { "x": 4975, "y": 3150 },
        { "x": 4475, "y": 3000 },
        { "x": 4475, "y": 3150 },
        { "x": 4225, "y": 3125 },
        { "x": 4675, "y": 2700 },
        { "x": 13225, "y": 2925 },
        { "x": 13225, "y": 2525 },
        { "x": 4675, "y": 2550 },
        { "x": 13225, "y": 2325 },
        { "x": 4675, "y": 1825 },
        { "x": 4675, "y": 1975 },
        { "x": 1975, "y": 4025 },
        { "x": 2075, "y": 5675 },
        { "x": 1975, "y": 5575 },
        { "x": 1875, "y": 5475 },
        { "x": 1775, "y": 5375 },
        { "x": 2075, "y": 6475 }];
    return DataTsp;
}());
/// <reference path="../lib/jquery.d.ts" />
/// <reference path="../lib/jquery.d.ts" />
var Main = (function () {
    function Main() {
        this.selection = new Selections();
        this.crossover = new Crossover();
        this.mutation = new Mutations();
        this.divisorX = 0;
        this.divisorY = 0;
        this.init();
        var self = this;
        this.initData();
        Main.points = DataTsp.data500;
        var maiorX = 0;
        var maiorY = 0;
        Main.points.forEach(function (element) {
            if (element.x > maiorX) {
                maiorX = element.x;
            }
            if (element.y > maiorY) {
                maiorY = element.y;
            }
        });
        // this.divisorX = maiorX / 1024; 
        // this.divisorY = maiorY / 768; 
        this.divisorX = 1;
        this.divisorY = 1;
        $('#start_btn').click(function () {
            if (Main.points.length >= 3) {
                self.initData();
                self.GAInitialize();
                Main.running = true;
            }
            else {
                alert("add some more points to the map!");
            }
        });
        $('#clear_btn').click(function () {
            Main.running === false;
            this.initData();
            Main.points = new Array();
        });
        $('#stop_btn').click(function () {
            if (Main.running === false && Main.currentGeneration !== 0) {
                if (Main.best.length !== Main.points.length) {
                    this.initData();
                    this.GAInitialize();
                }
                Main.running = true;
            }
            else {
                Main.running = false;
            }
        });
    }
    Main.prototype.init = function () {
        Main.ctx = document.getElementById("canvas").getContext("2d");
        ;
        Main.WIDTH = $('#canvas').width();
        Main.HEIGHT = $('#canvas').height();
        setInterval(this.draw.bind(this), 10);
        this.init_mouse();
    };
    Main.prototype.init_mouse = function () {
        $("canvas").click(function (evt) {
            if (!Main.running) {
                Main.canvasMinX = $("#canvas").offset().left;
                Main.canvasMinY = $("#canvas").offset().top;
                $('#status').text("");
                var x = evt.pageX - Main.canvasMinX;
                var y = evt.pageY - Main.canvasMinY;
                Main.points.push(x, y);
            }
        });
    };
    Main.prototype.GAInitialize = function () {
        Algorithms.countDistances();
        for (var i = 0; i < Main.POPULATION_SIZE; i++) {
            Main.population.push(Algorithms.randomIndivial(Main.points.length));
        }
        Algorithms.setBestValue();
    };
    Main.prototype.GANextGeneration = function () {
        Main.currentGeneration++;
        this.selection.doSelection();
        this.crossover.crossover();
        this.mutation.mutation();
        Algorithms.setBestValue();
    };
    Main.prototype.initData = function () {
        Main.running = false;
        Main.POPULATION_SIZE = 30;
        Main.ELITE_RATE = 0.3;
        Main.CROSSOVER_PROBABILITY = 0.9;
        Main.MUTATION_PROBABILITY = 0.01;
        // Main.OX_CROSSOVER_RATE = 0.05;
        Main.UNCHANGED_GENS = 0;
        Main.mutationTimes = 0;
        Main.doPreciseMutate = true;
        Main.bestValue = undefined;
        Main.best = [];
        Main.currentGeneration = 0;
        Main.currentBest;
        Main.population = []; //new Array(POPULATION_SIZE);
        Main.values = new Array(Main.POPULATION_SIZE);
        Main.fitnessValues = new Array(Main.POPULATION_SIZE);
        Main.roulette = new Array(Main.POPULATION_SIZE);
    };
    Main.prototype.drawCircle = function (point) {
        Main.ctx.fillStyle = '#000';
        Main.ctx.beginPath();
        Main.ctx.arc(point.x / this.divisorX, point.y / this.divisorY, 3, 0, Math.PI * 2, true);
        Main.ctx.closePath();
        Main.ctx.fill();
    };
    Main.prototype.drawLines = function (array) {
        Main.ctx.strokeStyle = '#f00';
        Main.ctx.lineWidth = 1;
        Main.ctx.beginPath();
        Main.ctx.moveTo(Main.points[array[0]].x, Main.points[array[0]].y);
        for (var i = 1; i < array.length; i++) {
            Main.ctx.lineTo(Main.points[array[i]].x / this.divisorX, Main.points[array[i]].y / this.divisorY);
        }
        Main.ctx.lineTo(Main.points[array[0]].x / this.divisorX, Main.points[array[0]].y / this.divisorY);
        Main.ctx.stroke();
        Main.ctx.closePath();
    };
    Main.prototype.draw = function () {
        if (Main.running) {
            this.GANextGeneration();
        }
        else {
            $('#status').text("There are " + Main.points.length + " Cities in the map. ");
        }
        this.clearCanvas();
        if (Main.points.length > 0) {
            for (var i = 0; i < Main.points.length; i++) {
                this.drawCircle(Main.points[i]);
            }
            if (Main.best.length === Main.points.length) {
                this.drawLines(Main.best);
            }
        }
    };
    Main.prototype.clearCanvas = function () {
        Main.ctx.clearRect(0, 0, Main.WIDTH, Main.HEIGHT);
    };
    Main.points = [];
    return Main;
}());
$(function () {
    new Main();
});
var Mutations = (function () {
    function Mutations() {
    }
    Mutations.prototype.mutation = function () {
        for (var i = 0; i < Main.POPULATION_SIZE; i++) {
            if (Math.random() < Main.MUTATION_PROBABILITY) {
                if (Math.random() > 0.5) {
                    Main.population[i] = Algorithms.pushMutate(Main.population[i]);
                }
                else {
                    Main.population[i] = Algorithms.doMutate(Main.population[i]);
                }
                i--;
            }
        }
    };
    return Mutations;
}());
var Selections = (function () {
    function Selections() {
    }
    Selections.prototype.doSelection = function () {
        var parents = new Array();
        var initnum = 4;
        parents.push(Main.population[Main.currentBest.bestPosition]);
        parents.push(Algorithms.doMutate(Main.best.slice(0)));
        parents.push(Algorithms.pushMutate(Main.best.slice(0)));
        parents.push(Main.best.slice(0));
        this.setRoulette();
        for (var i = initnum; i < Main.POPULATION_SIZE; i++) {
            var rand = Math.random();
            parents.push(Main.population[this.wheelOut(rand)]);
        }
        Main.population = parents;
    };
    Selections.prototype.setRoulette = function () {
        //calculate all the fitness
        for (var i = 0; i < Main.values.length; i++) {
            Main.fitnessValues[i] = 1.0 / Main.values[i];
        }
        //set the roulette
        var sum = 0;
        for (var i = 0; i < Main.fitnessValues.length; i++) {
            sum += Main.fitnessValues[i];
        }
        for (var i = 0; i < Main.roulette.length; i++) {
            Main.roulette[i] = Main.fitnessValues[i] / sum;
        }
        for (var i = 1; i < Main.roulette.length; i++) {
            Main.roulette[i] += Main.roulette[i - 1];
        }
    };
    Selections.prototype.wheelOut = function (rand) {
        var i;
        for (i = 0; i < Main.roulette.length; i++) {
            if (rand <= Main.roulette[i]) {
                return i;
            }
        }
    };
    return Selections;
}());
//# sourceMappingURL=appBundle.js.map